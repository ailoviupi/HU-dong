<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂæÆ‰ø°ËÅäÂ§© - HU-dong</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="emoji.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="mobile.css">
</head>
<body>
    <!-- ÁßªÂä®Á´ØÂØºËà™Ê†è -->
    <div class="mobile-navbar">
        <div class="mobile-nav-item active" data-view="chats">
            <i class="fas fa-comment"></i>
            <span>Ê∂àÊÅØ</span>
        </div>
        <div class="mobile-nav-item" data-view="contacts">
            <i class="fas fa-address-book"></i>
            <span>ÈÄöËÆØÂΩï</span>
        </div>
        <div class="mobile-nav-item" data-view="discover">
            <i class="fas fa-compass"></i>
            <span>ÂèëÁé∞</span>
        </div>
        <div class="mobile-nav-item" data-view="profile">
            <i class="fas fa-user"></i>
            <span>Êàë</span>
        </div>
    </div>
    
    <!-- ÁßªÂä®Á´ØËßÜÂõæÂÆπÂô® -->
    <div class="mobile-views">
        <!-- Ê∂àÊÅØÂàóË°®ËßÜÂõæ -->
        <div class="mobile-view active" id="chatsView">
            <div class="mobile-header">
                <span class="mobile-title">ÂæÆ‰ø°</span>
                <button class="mobile-header-btn" id="mobileSearchBtn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
            <div class="mobile-chat-list" id="mobileChatList">
                <!-- ËÅäÂ§©ÂàóË°®ÂÜÖÂÆπ -->
            </div>
        </div>
        
        <!-- ÈÄöËÆØÂΩïËßÜÂõæ -->
        <div class="mobile-view" id="contactsView">
            <div class="mobile-header">
                <span class="mobile-title">ÈÄöËÆØÂΩï</span>
            </div>
            <div class="mobile-contacts-list" id="mobileContactsList">
                <!-- ÈÄöËÆØÂΩïÂÜÖÂÆπ -->
            </div>
        </div>
        
        <!-- ÂèëÁé∞ËßÜÂõæ -->
        <div class="mobile-view" id="discoverView">
            <div class="mobile-header">
                <span class="mobile-title">ÂèëÁé∞</span>
            </div>
            <div class="mobile-discover-list">
                <div class="discover-item">
                    <i class="fas fa-circle-notch"></i>
                    <span>ÊúãÂèãÂúà</span>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="discover-item">
                    <i class="fas fa-qrcode"></i>
                    <span>Êâ´‰∏ÄÊâ´</span>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="discover-item">
                    <i class="fas fa-shopping-bag"></i>
                    <span>Ë¥≠Áâ©</span>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="discover-item">
                    <i class="fas fa-gamepad"></i>
                    <span>Ê∏∏Êàè</span>
                    <i class="fas fa-chevron-right"></i>
                </div>
            </div>
        </div>
        
        <!-- ‰∏™‰∫∫‰∏≠ÂøÉËßÜÂõæ -->
        <div class="mobile-view" id="profileView">
            <div class="mobile-header">
                <span class="mobile-title">Êàë</span>
                <button class="mobile-header-btn" id="mobileSettingsBtn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
            <div class="mobile-profile-header">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2307C160'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊàë%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="mobile-profile-avatar">
                <div class="mobile-profile-info">
                    <span class="mobile-profile-name">Êàë</span>
                    <span class="mobile-profile-id">ÂæÆ‰ø°Âè∑: wechat_user</span>
                </div>
            </div>
            <div class="mobile-profile-menu">
                <div class="profile-menu-item">
                    <i class="fas fa-star"></i>
                    <span>Êî∂Ëóè</span>
                </div>
                <div class="profile-menu-item">
                    <i class="fas fa-file-image"></i>
                    <span>Áõ∏ÂÜå</span>
                </div>
                <div class="profile-menu-item">
                    <i class="fas fa-wallet"></i>
                    <span>Èí±ÂåÖ</span>
                </div>
                <div class="profile-menu-item">
                    <i class="fas fa-cog"></i>
                    <span>ËÆæÁΩÆ</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- ÁßªÂä®Á´ØËÅäÂ§©ËØ¶ÊÉÖËßÜÂõæ -->
    <div class="mobile-chat-detail" id="mobileChatDetail">
        <div class="mobile-chat-header">
            <button class="mobile-back-btn" id="mobileBackBtn">
                <i class="fas fa-arrow-left"></i>
            </button>
            <span class="mobile-chat-title">Â•ΩÂèã1</span>
            <button class="mobile-chat-more">
                <i class="fas fa-ellipsis-h"></i>
            </button>
        </div>
        <div class="mobile-chat-messages" id="mobileChatMessages">
            <!-- Ê∂àÊÅØÂÜÖÂÆπ -->
        </div>
        <div class="mobile-chat-input">
            <button class="mobile-input-btn" id="mobileEmojiBtn">
                <i class="far fa-smile"></i>
            </button>
            <input type="text" placeholder="ËæìÂÖ•Ê∂àÊÅØ..." id="mobileMessageInput">
            <button class="mobile-input-btn" id="mobileSendBtn">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <div class="container">
        <!-- ‰æßËæπÊ†è -->
        <div class="sidebar">
            <div class="user-info" id="currentUserInfo">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%2307C160'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊàë%3C/text%3E%3C/svg%3E" alt="Áî®Êà∑Â§¥ÂÉè" class="avatar" id="currentUserAvatar">
                <span class="username" id="currentUsername">Êàë</span>
                <div class="user-status online"></div>
            </div>
            <div class="menu-icons">
                <div class="menu-icon active" data-menu="chat" title="ËÅäÂ§©">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/>
                    </svg>
                </div>
                <div class="menu-icon" data-menu="contacts" title="ÈÄöËÆØÂΩï">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5z"/>
                    </svg>
                </div>
                <div class="menu-icon" data-menu="discover" title="ÂèëÁé∞">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <div class="menu-icon" data-menu="profile" title="Êàë">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
            </div>
            <div class="sidebar-footer">
                <div class="theme-toggle" id="themeToggle" title="ÂàáÊç¢‰∏ªÈ¢ò">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/>
                    </svg>
                </div>
                <div class="settings-btn" id="settingsBtn" title="ËÆæÁΩÆ">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/>
                    </svg>
                </div>
            </div>
        </div>

        <!-- ËÅäÂ§©ÂàóË°® -->
        <div class="chat-list" id="chatListPanel">
            <div class="search-box">
                <input type="text" placeholder="ÊêúÁ¥¢" id="searchInput">
                <button class="add-chat-btn" id="addChatBtn" title="Êñ∞Âª∫ËÅäÂ§©">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                </button>
            </div>
            <div class="chat-items" id="chatList">
                <div class="chat-item active pinned" data-chat="friend1">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FF6B6B'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊúã%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="avatar">
                    <div class="chat-info">
                        <div class="chat-name">
                            Â•ΩÂèã1
                            <span class="pinned-badge">ÁΩÆÈ°∂</span>
                        </div>
                        <div class="chat-preview">‰Ω†Â•ΩÔºÅÊúâ‰ªÄ‰πàÂèØ‰ª•Â∏ÆÂä©‰Ω†ÁöÑÂêóÔºü</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">10:30</div>
                        <div class="unread-badge" style="display: none;">0</div>
                    </div>
                </div>
                <div class="chat-item" data-chat="friend2">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%234ECDC4'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÂ∞è%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="avatar">
                    <div class="chat-info">
                        <div class="chat-name">Â∞è‰ºô‰º¥</div>
                        <div class="chat-preview">[ÂõæÁâá]</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">09:15</div>
                        <div class="unread-badge">3</div>
                    </div>
                </div>
                <div class="chat-item muted" data-chat="group1">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23967BB6'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='30'%3EÁæ§ËÅä%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="avatar">
                    <div class="chat-info">
                        <div class="chat-name">
                            ÂæÆ‰ø°Áæ§ËÅä
                            <span class="muted-badge">ÂÖçÊâìÊâ∞</span>
                        </div>
                        <div class="chat-preview">Áæ§ÊàêÂëòÔºö5‰∫∫</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">Êò®Â§©</div>
                        <i class="fas fa-bell-slash muted-icon"></i>
                    </div>
                </div>
                <div class="chat-item" data-chat="friend3">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FFE66D'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EËÄÅ%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="avatar">
                    <div class="chat-info">
                        <div class="chat-name">ËÄÅÁéã</div>
                        <div class="chat-preview">ÊòéÂ§©ËßÅÔºÅ</div>
                    </div>
                    <div class="chat-meta">
                        <div class="chat-time">Êò®Â§©</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÈÄöËÆØÂΩïÈù¢Êùø -->
        <div class="contacts-panel" id="contactsPanel" style="display: none;">
            <div class="panel-header">
                <h2>ÈÄöËÆØÂΩï</h2>
                <button class="panel-close" id="closeContacts">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            <div class="contacts-search">
                <input type="text" placeholder="ÊêúÁ¥¢ËÅîÁ≥ª‰∫∫" id="contactsSearch">
            </div>
            <div class="contacts-list">
                <div class="contact-group">
                    <div class="contact-group-title">Êñ∞ÁöÑÊúãÂèã</div>
                    <div class="contact-item" data-contact="newfriend">
                        <div class="contact-avatar">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <span>Êñ∞ÁöÑÊúãÂèã</span>
                    </div>
                </div>
                <div class="contact-group">
                    <div class="contact-group-title">Áæ§ËÅä</div>
                    <div class="contact-item" data-contact="group1">
                        <div class="contact-avatar group">
                            <i class="fas fa-users"></i>
                        </div>
                        <span>ÂæÆ‰ø°Áæ§ËÅä</span>
                    </div>
                    <div class="contact-item" data-contact="group2">
                        <div class="contact-avatar group">
                            <i class="fas fa-users"></i>
                        </div>
                        <span>Â∑•‰ΩúÁæ§</span>
                    </div>
                </div>
                <div class="contact-group">
                    <div class="contact-group-title">Â•ΩÂèã</div>
                    <div class="contact-item" data-contact="friend1">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FF6B6B'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊúã%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="contact-avatar">
                        <span>Â•ΩÂèã1</span>
                    </div>
                    <div class="contact-item" data-contact="friend2">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%234ECDC4'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÂ∞è%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="contact-avatar">
                        <span>Â∞è‰ºô‰º¥</span>
                    </div>
                    <div class="contact-item" data-contact="friend3">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FFE66D'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EËÄÅ%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="contact-avatar">
                        <span>ËÄÅÁéã</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ËÆæÁΩÆÈù¢Êùø -->
        <div class="settings-panel" id="settingsPanel" style="display: none;">
            <div class="panel-header">
                <h2>ËÆæÁΩÆ</h2>
                <button class="panel-close" id="closeSettings">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            <div class="settings-list">
                <div class="settings-item">
                    <div class="settings-item-icon">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="settings-item-content">
                        <span class="settings-item-title">‰∏™‰∫∫ËµÑÊñô</span>
                        <span class="settings-item-desc">Â§¥ÂÉè„ÄÅÊòµÁß∞„ÄÅ‰∏™ÊÄßÁ≠æÂêç</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="settings-item">
                    <div class="settings-item-icon">
                        <i class="fas fa-bell"></i>
                    </div>
                    <div class="settings-item-content">
                        <span class="settings-item-title">Êñ∞Ê∂àÊÅØÈÄöÁü•</span>
                        <span class="settings-item-desc">Êé•Êî∂Êñ∞Ê∂àÊÅØÈÄöÁü•</span>
                    </div>
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="settings-item">
                    <div class="settings-item-icon">
                        <i class="fas fa-moon"></i>
                    </div>
                    <div class="settings-item-content">
                        <span class="settings-item-title">Ê∑±Ëâ≤Ê®°Âºè</span>
                        <span class="settings-item-desc">ÂàáÊç¢Ê∑±Ëâ≤/ÊµÖËâ≤‰∏ªÈ¢ò</span>
                    </div>
                    <label class="switch" id="themeSwitch">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="settings-item">
                    <div class="settings-item-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="settings-item-content">
                        <span class="settings-item-title">ÈöêÁßÅ</span>
                        <span class="settings-item-desc">ÊúãÂèãÂúàÊùÉÈôê„ÄÅÊ∑ªÂä†ÊñπÂºè</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="settings-item">
                    <div class="settings-item-icon">
                        <i class="fas fa-language"></i>
                    </div>
                    <div class="settings-item-content">
                        <span class="settings-item-title">ËØ≠Ë®Ä</span>
                        <span class="settings-item-desc">ÁÆÄ‰Ωì‰∏≠Êñá</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="settings-item">
                    <div class="settings-item-icon">
                        <i class="fas fa-question-circle"></i>
                    </div>
                    <div class="settings-item-content">
                        <span class="settings-item-title">Â∏ÆÂä©‰∏éÂèçÈ¶à</span>
                        <span class="settings-item-desc">‰ΩøÁî®Â∏ÆÂä©„ÄÅÊÑèËßÅÂèçÈ¶à</span>
                    </div>
                    <i class="fas fa-chevron-right"></i>
                </div>
                <div class="settings-item danger">
                    <div class="settings-item-icon">
                        <i class="fas fa-sign-out-alt"></i>
                    </div>
                    <div class="settings-item-content">
                        <span class="settings-item-title">ÈÄÄÂá∫ÁôªÂΩï</span>
                        <span class="settings-item-desc">ÈÄÄÂá∫ÂΩìÂâçË¥¶Êà∑</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ËÅäÂ§©Á™óÂè£ -->
        <div class="chat-window" id="chatWindow">
            <div class="chat-header" id="chatHeader">
                <div class="chat-header-info">
                    <span class="chat-title" id="chatTitle">Â•ΩÂèã1</span>
                    <span class="chat-status" id="chatStatus"></span>
                </div>
                <div class="chat-actions">
                    <button class="action-btn" id="videoCallBtn" title="ËßÜÈ¢ëÈÄöËØù">
                        <i class="fas fa-video"></i>
                    </button>
                    <button class="action-btn" id="voiceCallBtn" title="ËØ≠Èü≥ÈÄöËØù">
                        <i class="fas fa-phone"></i>
                    </button>
                    <button class="action-btn" id="moreActionsBtn" title="Êõ¥Â§ö">
                        <i class="fas fa-ellipsis-h"></i>
                    </button>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="typing-indicator" id="typingIndicator" style="display: none;">
                    <div class="typing-avatar">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FF6B6B'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊúã%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè">
                    </div>
                    <div class="typing-content">
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                        <span class="typing-dot"></span>
                    </div>
                </div>
            </div>

            <!-- ËæìÂÖ•Âå∫Âüü -->
            <div class="input-area">
                <div class="input-tools">
                    <button class="tool-btn" id="emojiBtn" title="Ë°®ÊÉÖ">
                        <i class="far fa-smile"></i>
                    </button>
                    <button class="tool-btn" id="imageBtn" title="ÂõæÁâá">
                        <i class="far fa-image"></i>
                    </button>
                    <button class="tool-btn" id="fileBtn" title="Êñá‰ª∂">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <button class="tool-btn" id="gifBtn" title="GIFË°®ÊÉÖ">
                        <i class="fas fa-film"></i>
                    </button>
                    <button class="tool-btn" id="screenshotBtn" title="Êà™Âõæ">
                        <i class="fas fa-camera"></i>
                    </button>
                </div>
                
                <input type="file" id="fileInput" style="display: none;" multiple>
                <input type="file" id="documentInput" style="display: none;" accept=".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt">
                
                <!-- Ë°®ÊÉÖÈù¢Êùø -->
                <div class="emoji-panel" id="emojiPanel">
                    <div class="emoji-toolbar">
                        <div class="emoji-category">
                            <button class="emoji-tab active" data-category="emoji">
                                <i class="far fa-smile"></i>
                            </button>
                            <button class="emoji-tab" data-category="animal">
                                <i class="fas fa-cat"></i>
                            </button>
                            <button class="emoji-tab" data-category="food">
                                <i class="fas fa-pizza-slice"></i>
                            </button>
                            <button class="emoji-tab" data-category="sport">
                                <i class="fas fa-football"></i>
                            </button>
                            <button class="emoji-tab" data-category="heart">
                                <i class="far fa-heart"></i>
                            </button>
                            <button class="emoji-tab" data-category="flag">
                                <i class="fas fa-flag"></i>
                            </button>
                            <button class="emoji-tab" data-category="sticker">
                                <i class="fas fa-sticky-note"></i>
                            </button>
                        </div>
                        <div class="emoji-actions">
                            <button class="emoji-action-btn" id="recentEmojiBtn" title="ÊúÄËøë‰ΩøÁî®">
                                <i class="fas fa-history"></i>
                            </button>
                            <button class="emoji-action-btn" id="deleteEmojiBtn" title="Âà†Èô§">
                                <i class="fas fa-backspace"></i>
                            </button>
                        </div>
                    </div>
                    <div class="emoji-list" id="emojiList"></div>
                </div>

                <!-- GIFÈù¢Êùø -->
                <div class="gif-panel" id="gifPanel" style="display: none;">
                    <div class="gif-search">
                        <input type="text" placeholder="ÊêúÁ¥¢GIF" id="gifSearch">
                    </div>
                    <div class="gif-grid" id="gifGrid">
                        <div class="gif-item" data-gif="üëç">üëç</div>
                        <div class="gif-item" data-gif="üòÇ">üòÇ</div>
                        <div class="gif-item" data-gif="üôè">üôè</div>
                        <div class="gif-item" data-gif="ü§£">ü§£</div>
                        <div class="gif-item" data-gif="üòä">üòä</div>
                        <div class="gif-item" data-gif="üòç">üòç</div>
                        <div class="gif-item" data-gif="üéâ">üéâ</div>
                        <div class="gif-item" data-gif="ü•∞">ü•∞</div>
                        <div class="gif-item" data-gif="ü§î">ü§î</div>
                        <div class="gif-item" data-gif="üòé">üòé</div>
                        <div class="gif-item" data-gif="ü§ó">ü§ó</div>
                        <div class="gif-item" data-gif="ü•∫">ü•∫</div>
                    </div>
                </div>

                <!-- Ë¥¥Á∫∏Èù¢Êùø -->
                <div class="sticker-panel" id="stickerPanel" style="display: none;">
                    <div class="sticker-grid" id="stickerGrid">
                        <div class="sticker-item" data-sticker="üê±">
                            <span style="font-size: 40px;">üê±</span>
                        </div>
                        <div class="sticker-item" data-sticker="üê∂">
                            <span style="font-size: 40px;">üê∂</span>
                        </div>
                        <div class="sticker-item" data-sticker="üêº">
                            <span style="font-size: 40px;">üêº</span>
                        </div>
                        <div class="sticker-item" data-sticker="ü¶ä">
                            <span style="font-size: 40px;">ü¶ä</span>
                        </div>
                        <div class="sticker-item" data-sticker="üê∏">
                            <span style="font-size: 40px;">üê∏</span>
                        </div>
                        <div class="sticker-item" data-sticker="üêµ">
                            <span style="font-size: 40px;">üêµ</span>
                        </div>
                        <div class="sticker-item" data-sticker="ü¶Å">
                            <span style="font-size: 40px;">ü¶Å</span>
                        </div>
                        <div class="sticker-item" data-sticker="üêØ">
                            <span style="font-size: 40px;">üêØ</span>
                        </div>
                    </div>
                </div>
                
                <div class="input-box">
                    <textarea id="messageInput" placeholder="ËæìÂÖ•Ê∂àÊÅØ..." rows="1"></textarea>
                    <div class="input-actions">
                        <button class="send-btn" id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                        <button class="voice-btn" id="voiceBtn" title="ËØ≠Èü≥ËæìÂÖ•">
                            <i class="fas fa-microphone"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Á©∫Áä∂ÊÄÅ -->
        <div class="empty-state" id="emptyState">
            <div class="empty-icon">
                <i class="far fa-comments"></i>
            </div>
            <div class="empty-text">ÈÄâÊã©‰∏Ä‰ΩçÂ•ΩÂèãÂºÄÂßãËÅäÂ§©Âêß</div>
            <div class="empty-hint">ÂèëÈÄÅÊ∂àÊÅØ„ÄÅË°®ÊÉÖ„ÄÅÂõæÁâá...</div>
        </div>
    </div>

    <!-- Ê∂àÊÅØÊìç‰ΩúËèúÂçï -->
    <div class="message-menu" id="messageMenu" style="display: none;">
        <div class="message-menu-item" data-action="reply">
            <i class="fas fa-reply"></i>
            <span>ÂºïÁî®</span>
        </div>
        <div class="message-menu-item" data-action="forward">
            <i class="fas fa-share"></i>
            <span>ËΩ¨Âèë</span>
        </div>
        <div class="message-menu-item" data-action="copy">
            <i class="fas fa-copy"></i>
            <span>Â§çÂà∂</span>
        </div>
        <div class="message-menu-item" data-action="collect">
            <i class="fas fa-star"></i>
            <span>Êî∂Ëóè</span>
        </div>
        <div class="message-menu-item danger" data-action="delete">
            <i class="fas fa-trash"></i>
            <span>Âà†Èô§</span>
        </div>
        <div class="message-menu-item" data-action="recall" id="recallMenuItem" style="display: none;">
            <i class="fas fa-undo"></i>
            <span>Êí§Âõû</span>
        </div>
    </div>

    <!-- ÂºïÁî®Ê∂àÊÅØÊòæÁ§∫ -->
    <div class="quoted-message" id="quotedMessage" style="display: none;">
        <div class="quoted-content">
            <span class="quoted-name"></span>
            <span class="quoted-text"></span>
        </div>
        <button class="quoted-close" id="quotedClose">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <!-- ÂõæÁâáÈ¢ÑËßàÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="imageModal">
        <div class="modal-content">
            <span class="modal-close" id="modalClose">&times;</span>
            <div class="modal-toolbar">
                <button class="modal-toolbar-btn" id="modalDownload" title="‰øùÂ≠ò">
                    <i class="fas fa-download"></i>
                </button>
                <button class="modal-toolbar-btn" id="modalForward" title="ËΩ¨Âèë">
                    <i class="fas fa-share"></i>
                </button>
                <button class="modal-toolbar-btn" id="modalMore" title="Êõ¥Â§ö">
                    <i class="fas fa-ellipsis-h"></i>
                </button>
            </div>
            <img id="modalImage" src="" alt="ÂõæÁâáÈ¢ÑËßà">
        </div>
    </div>

    <!-- ËΩ¨ÂèëÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="forwardModal">
        <div class="modal-content forward-modal-content">
            <span class="modal-close" id="forwardModalClose">&times;</span>
            <div class="modal-header">
                <h3>ÈÄâÊã©ËÅîÁ≥ª‰∫∫</h3>
            </div>
            <div class="modal-body">
                <div class="forward-search">
                    <input type="text" placeholder="ÊêúÁ¥¢" id="forwardSearch">
                </div>
                <div class="forward-list" id="forwardList">
                    <div class="forward-item" data-chat="friend1">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FF6B6B'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊúã%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè">
                        <span>Â•ΩÂèã1</span>
                        <i class="fas fa-check-circle selected-icon"></i>
                    </div>
                    <div class="forward-item" data-chat="friend2">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%234ECDC4'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÂ∞è%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè">
                        <span>Â∞è‰ºô‰º¥</span>
                        <i class="fas fa-check-circle selected-icon"></i>
                    </div>
                    <div class="forward-item" data-chat="friend3">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FFE66D'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EËÄÅ%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè">
                        <span>ËÄÅÁéã</span>
                        <i class="fas fa-check-circle selected-icon"></i>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn" id="confirmForward">Á°ÆÂÆöËΩ¨Âèë</button>
            </div>
        </div>
    </div>

    <!-- Êñ∞Âª∫ËÅäÂ§©Ê®°ÊÄÅÊ°Ü -->
    <div class="modal" id="newChatModal">
        <div class="modal-content new-chat-modal-content">
            <span class="modal-close" id="newChatModalClose">&times;</span>
            <div class="modal-header">
                <h3>Êñ∞Âª∫ËÅäÂ§©</h3>
            </div>
            <div class="modal-body">
                <div class="new-chat-search">
                    <input type="text" placeholder="ÊêúÁ¥¢ËÅîÁ≥ª‰∫∫" id="newChatSearch">
                </div>
                <div class="new-chat-list" id="newChatList">
                    <div class="new-chat-item" data-contact="new1">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23967BB6'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊñ∞%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè">
                        <span>Êñ∞ÊúãÂèã1</span>
                        <button class="add-contact-btn"><i class="fas fa-plus"></i></button>
                    </div>
                    <div class="new-chat-item" data-contact="new2">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FFE66D'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊñ∞%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè">
                        <span>Êñ∞ÊúãÂèã2</span>
                        <button class="add-contact-btn"><i class="fas fa-plus"></i></button>
                    </div>
                    <div class="new-chat-item" data-contact="new3">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23FF6B6B'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊñ∞%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè">
                        <span>Êñ∞ÊúãÂèã3</span>
                        <button class="add-contact-btn"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Êñá‰ª∂ËæìÂÖ• -->
    <input type="file" id="fileInput" style="display: none;" multiple>
    <input type="file" id="imageInput" accept="image/*" style="display: none;">
    
    <!-- ËÆæÁΩÆÈù¢Êùø -->
    <div class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <button class="settings-back" id="settingsBack">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2>ËÆæÁΩÆ</h2>
        </div>
        
        <div class="settings-profile">
            <div class="profile-avatar-container">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%234ECDC4'/%3E%3Ctext x='50' y='65' text-anchor='middle' fill='white' font-size='40'%3EÊàë%3C/text%3E%3C/svg%3E" alt="Â§¥ÂÉè" class="profile-avatar" id="profileAvatar">
                <button class="change-avatar-btn" id="changeAvatarBtn">
                    <i class="fas fa-camera"></i>
                </button>
            </div>
            <div class="profile-info">
                <div class="profile-name">Êàë</div>
                <div class="profile-id">ÂæÆ‰ø°Âè∑: wechat_user</div>
            </div>
        </div>
        
        <div class="settings-list">
            <div class="settings-item" id="nicknameSetting">
                <i class="fas fa-id-card"></i>
                <span>ÊòµÁß∞</span>
                <span class="settings-value" id="nicknameValue">Êàë</span>
                <i class="fas fa-chevron-right settings-arrow"></i>
            </div>
            
            <div class="settings-item" id="statusSetting">
                <i class="fas fa-comment-alt"></i>
                <span>Áä∂ÊÄÅÊ∂àÊÅØ</span>
                <span class="settings-value" id="statusValue">Ëøô‰∏™‰∫∫ÂæàÊáíÔºå‰ªÄ‰πàÈÉΩÊ≤°ÂÜô</span>
                <i class="fas fa-chevron-right settings-arrow"></i>
            </div>
            
            <div class="settings-divider"></div>
            
            <div class="settings-item toggle-item">
                <i class="fas fa-moon"></i>
                <span>Ê∑±Ëâ≤Ê®°Âºè</span>
                <label class="switch">
                    <input type="checkbox" id="darkModeToggle">
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-item toggle-item">
                <i class="fas fa-bell"></i>
                <span>Êñ∞Ê∂àÊÅØÈÄöÁü•</span>
                <label class="switch">
                    <input type="checkbox" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-item toggle-item">
                <i class="fas fa-volume-up"></i>
                <span>Â£∞Èü≥ÊèêÁ§∫</span>
                <label class="switch">
                    <input type="checkbox" checked>
                    <span class="slider"></span>
                </label>
            </div>
            
            <div class="settings-divider"></div>
            
            <div class="settings-item" id="languageSetting">
                <i class="fas fa-language"></i>
                <span>ËØ≠Ë®Ä</span>
                <span class="settings-value">ÁÆÄ‰Ωì‰∏≠Êñá</span>
                <i class="fas fa-chevron-right settings-arrow"></i>
            </div>
            
            <div class="settings-item" id="aboutSetting">
                <i class="fas fa-info-circle"></i>
                <span>ÂÖ≥‰∫éÂæÆ‰ø°ÁΩëÈ°µÁâà</span>
                <i class="fas fa-chevron-right settings-arrow"></i>
            </div>
            
            <div class="settings-divider"></div>
            
            <div class="settings-item logout-item" id="logoutSetting">
                <i class="fas fa-sign-out-alt"></i>
                <span>ÈÄÄÂá∫ÁôªÂΩï</span>
            </div>
        </div>
    </div>
    
    <!-- ÊòµÁß∞ËÆæÁΩÆÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="nicknameModal">
        <div class="modal-content">
            <span class="modal-close" id="nicknameModalClose">&times;</span>
            <div class="modal-header">
                <h3>ËÆæÁΩÆÊòµÁß∞</h3>
            </div>
            <div class="modal-body">
                <input type="text" class="settings-input" id="nicknameInput" placeholder="ËØ∑ËæìÂÖ•ÊòµÁß∞" maxlength="20">
            </div>
            <div class="modal-footer">
                <button class="modal-btn" id="confirmNickname">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>
    
    <!-- Áä∂ÊÄÅÊ∂àÊÅØÊ®°ÊÄÅÊ°Ü -->
    <div class="modal" id="statusModal">
        <div class="modal-content">
            <span class="modal-close" id="statusModalClose">&times;</span>
            <div class="modal-header">
                <h3>ËÆæÁΩÆÁä∂ÊÄÅÊ∂àÊÅØ</h3>
            </div>
            <div class="modal-body">
                <textarea class="settings-textarea" id="statusInput" placeholder="ËØ∑ËæìÂÖ•Áä∂ÊÄÅÊ∂àÊÅØ" maxlength="50"></textarea>
            </div>
            <div class="modal-footer">
                <button class="modal-btn" id="confirmStatus">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>
    
    <!-- ToastÊèêÁ§∫ -->
    <div class="toast" id="toast"></div>

    <!-- ËÅäÂ§©‰∏ä‰∏ãÊñáËèúÂçï -->
    <div class="chat-context-menu" id="chatContextMenu">
        <div class="context-menu-item" data-action="pin">
            <i class="fas fa-thumbtack"></i>
            <span>ÁΩÆÈ°∂ËÅäÂ§©</span>
        </div>
        <div class="context-menu-item" data-action="mute">
            <i class="fas fa-bell-slash"></i>
            <span>ÂºÄÂêØ/ÂÖ≥Èó≠ÂÖçÊâìÊâ∞</span>
        </div>
        <div class="context-menu-item danger" data-action="delete">
            <i class="fas fa-trash"></i>
            <span>Âà†Èô§ËÅäÂ§©</span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
